<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Банк заданий - Русский язык ОГЭ</title>
<!-- Шрифт -->
<link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;700&display=swap" rel="stylesheet" />
<style>
  body {
    margin: 0;
    font-family: 'Open Sans', sans-serif;
    background-color: #eef2f3;
    color: #333;
  }

  /* Шапка */
  header {
    background: linear-gradient(90deg, #4e54c8, #8f94fb);
    display: flex;
    align-items: center;
    padding: 15px 30px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
  }

  .logo {
    font-size: 24px;
    font-weight: 700;
    color: #fff;
    margin-right: 50px;
  }

  nav {
    display: flex;
    gap: 20px;
  }

  nav a {
    color: #fff;
    text-decoration: none;
    font-weight: 600;
    padding: 8px 16px;
    border-radius: 6px;
    transition: background 0.3s;
  }

  nav a:hover {
    background-color: rgba(255,255,255,0.3);
  }

  /* Основной контейнер */
  .container {
    max-width: 1200px;
    margin: 30px auto;
    padding: 20px;
  }

  h1 {
    text-align: center;
    margin-bottom: 30px;
    color: #4e54c8;
  }

  /* Вкладки */
  .section-tabs {
    display: flex;
    justify-content: center;
    gap: 20px;
    margin-bottom: 30px;
  }

  .section-tab {
    padding: 10px 25px;
    background-color: #4e54c8;
    color: #fff;
    border-radius: 8px;
    cursor: pointer;
    font-weight: 600;
    transition: background 0.3s, transform 0.2s;
  }

  .section-tab:hover {
    background-color: #6b73e1;
    transform: translateY(-2px);
  }

  .section-tab.active {
    background-color: #fff;
    color: #4e54c8;
    border: 2px solid #4e54c8;
  }

  /* Разделы */
  .section {
    display: none;
  }

  .section.active {
    display: block;
  }

  /* Задания */
  .task {
    background: #f7f9fb;
    padding: 15px;
    border-radius: 8px;
    margin-bottom: 20px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.05);
  }

  .task p {
    margin: 10px 0;
  }

  /* Ввод */
  input[type="text"] {
    padding: 8px;
    width: calc(100% - 20px);
    border: 1px solid #ccc;
    border-radius: 6px;
  }

  /* Кнопки */
  button {
    padding: 10px 20px;
    background-color: #4e54c8;
    color: #fff;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    font-weight: 600;
    transition: background 0.3s;
  }

  button:hover {
    background-color: #6b73e1;
  }

  /* Итоговые блоки */
  #result {
    margin-top: 20px;
    font-weight: 700;
    font-size: 18px;
    text-align: center;
  }

  /* Вкладка пояснений/ответов */
  .tabs-answers {
    display: flex;
    gap: 20px;
    margin-bottom: 20px;
    justify-content: center;
  }

  .tab-answer {
    padding: 8px 20px;
    background-color: #ccc;
    border-radius: 6px;
    cursor: pointer;
    font-weight: 600;
    transition: background 0.3s;
  }

  .tab-answer:hover {
    background-color: #aaa;
  }

  .tab-answer.active {
    background-color: #4e54c8;
    color: #fff;
  }
</style>
</head>
<body>

<header>
  <div class="logo">Банк заданий ОГЭ</div>
  <nav>
    <a href="index.html">Главная</a>
    <a href="bank.html" style="font-weight:bold;">Банк заданий</a>
  </nav>
</header>

<div class="container">
  <h1>Банк заданий по русскому языку (ОГЭ)</h1>

  <!-- Вкладки разделов -->
  <div class="section-tabs">
    <div class="section-tab active" data-section="practice">Практика</div>
    <div class="section-tab" data-section="exam">Экзамен</div>
  </div>

  <!-- Раздел "Практика" -->
  <div id="practice" class="section active">
    <h2 style="text-align:center; margin-bottom:20px;">Практические задания</h2>
    <div id="practice-task"></div>
    <div style="text-align:center; margin-top:10px;">
      <button onclick="loadPracticeTask()">Следующее задание</button>
    </div>
    <div id="practice-feedback" style="margin-top:10px; text-align:center; font-weight:600;"></div>
    <div style="margin-top:20px;">
      <h3 style="text-align:center;">Пояснение / Ответ</h3>
      <div class="tabs-answers" id="answers-tabs"></div>
      <div id="answer-content" style="margin-top:10px; padding:10px; background:#f0f0f0; border-radius:8px;"></div>
    </div>
  </div>

  <!-- Раздел "Экзамен" -->
  <div id="exam" class="section">
    <h2 style="text-align:center; margin-bottom:20px;">Экзаменационный вариант</h2>
    <div id="exam-questions"></div>
    <div style="text-align:center; margin-top:20px;">
      <button onclick="submitExam()">Отправить ответы</button>
    </div>
    <div id="exam-result" style="margin-top:20px; text-align:center; font-weight:600;"></div>
  </div>
</div>

<script>
  // Вкладки между разделами
  const tabs = document.querySelectorAll('.section-tabs .section-tab');
  const sections = document.querySelectorAll('.section');

  tabs.forEach(tab => {
    tab.addEventListener('click', () => {
      tabs.forEach(t => t.classList.remove('active'));
      tab.classList.add('active');

      sections.forEach(sec => {
        sec.classList.remove('active');
        if (sec.id === tab.dataset.section) {
          sec.classList.add('active');
        }
      });
    });
  });

  // Общий банк заданий
  const allTasks = [
    {
      question: "Выберите правильное написание слова: 'весна' или 'весня'?",
      options: ["весна", "весня"],
      answer: "весна",
      explanation: "Правильное написание — 'весна'."
    },
    {
      question: "Поставьте запятую: 'Он пошёл в магазин ___ купил хлеб.'",
      options: ["и", ","],
      answer: "и",
      explanation: "Запятая не нужна. В данном случае союз 'и' соединяет однородные члены."
    },
    {
      question: "Что такое имя существительное?",
      options: ["Обозначает предмет, явление или лицо", "Обозначает действие"],
      answer: "Обозначает предмет, явление или лицо",
      explanation: "Имя существительное — часть речи, обозначающая предмет, лицо, явление."
    },
    {
      question: "Выберите сложноподчинённое предложение:",
      options: ["Я пошёл в школу, потому что было хорошо.", "Он читает книгу."],
      answer: "Я пошёл в школу, потому что было хорошо.",
      explanation: "Это сложноподчинённое предложение, есть главное и придаточное."
    },
    {
      question: "Какое из слов пишется с буквой 'и'?",
      options: ["Мир", "Мирий"],
      answer: "Мир",
      explanation: "Правильное написание — 'Мир'."
    }
  ];

  let practiceIndex = 0;
  let currentPracticeTask = null;

  // Загрузка следующего задания для практики
  function loadPracticeTask() {
    if (practiceIndex >= allTasks.length) {
      document.getElementById('practice-task').innerHTML = "<p>Все задания выполнены! Молодец!</p>";
      document.getElementById('practice-feedback').innerHTML = '';
      updateAnswerTabs();
      return;
    }
    currentPracticeTask = allTasks[practiceIndex];
    document.getElementById('practice-task').innerHTML = `
      <div class="task">
        <p><strong>Вопрос ${practiceIndex + 1}:</strong> ${currentPracticeTask.question}</p>
        <input type="text" id="practice-answer" placeholder="Введите ваш ответ" />
        <button style="margin-top:10px; padding:8px 16px; border:none; border-radius:6px; background:#4e54c8; color:#fff; cursor:pointer;" onclick="checkPracticeAnswer()">Проверить</button>
      </div>
    `;
    document.getElementById('practice-feedback').innerHTML = '';
    updateAnswerTabs();
  }

  function checkPracticeAnswer() {
    const userAnswer = document.getElementById('practice-answer').value.trim();
    if (!userAnswer) {
      document.getElementById('practice-feedback').innerHTML = '<span style="color:red;">Пожалуйста, введите ответ.</span>';
      return;
    }
    if (userAnswer.toLowerCase() === currentPracticeTask.answer.toLowerCase()) {
      document.getElementById('practice-feedback').innerHTML = '<span style="color:green;">Правильно!</span>';
      practiceIndex++;
      setTimeout(() => { loadPracticeTask(); }, 1000);
    } else {
      document.getElementById('practice-feedback').innerHTML = `<span style="color:red;">Неправильно. Правильный ответ: ${currentPracticeTask.answer}</span>`;
    }
    updateAnswerTabs();
  }

  // Вкладки для пояснений/ответов
  const answerTabsContainer = document.getElementById('answers-tabs');
  const answerContentDiv = document.getElementById('answer-content');

  function updateAnswerTabs() {
    answerTabsContainer.innerHTML = '';
    allTasks.forEach((task, index) => {
      const tab = document.createElement('div');
      tab.className = 'tab-answer' + (index === practiceIndex ? ' active' : '');
      tab.innerText = `Задание ${index + 1}`;
      tab.onclick = () => {
        showExplanation(index);
        // обновляем активность вкладок
        Array.from(answerTabsContainer.children).forEach(t => t.classList.remove('active'));
        tab.classList.add('active');
      };
      answerTabsContainer.appendChild(tab);
    });
    // показать объяснение текущего
    showExplanation(practiceIndex);
  }

  function showExplanation(index) {
    if (index >= allTasks.length) {
      answerContentDiv.innerHTML = '';
      return;
    }
    const task = allTasks[index];
    answerContentDiv.innerHTML = `<strong>Ответ и пояснение:</strong> ${task.answer}<br/><br/>${task.explanation}`;
  }

  // Загрузка данных для экзамена
  let examTasks = [];
  let examQuestions = [];
  function generateExam() {
    // рандомно выбрать 4 задания из банка
    const shuffled = allTasks.slice().sort(() => Math.random() - 0.5);
    examQuestions = shuffled.slice(0, 4);
    // подготовить вопросы для отображения
    const container = document.getElementById('exam-questions');
    container.innerHTML = '';
    examQuestions.forEach((q, index) => {
      let optionsHtml = q.options.map((opt, i) => `
        <div style="margin-top:10px;">
          <input type="radio" id="exam${index}_opt${i}" name="exam${index}" value="${opt}">
          <label for="exam${index}_opt${i}">${opt}</label>
        </div>
      `).join('');
      container.innerHTML += `
        <div style="margin-bottom:20px;">
          <p><strong>Вопрос ${index + 1}:</strong> ${q.question}</p>
          ${optionsHtml}
        </div>
      `;
    });
  }

  function submitExam() {
    let correctCount = 0;
    examQuestions.forEach((q, index) => {
      const options = document.getElementsByName(`exam${index}`);
      let selected = '';
      for (const opt of options) {
        if (opt.checked) {
          selected = opt.value;
          break;
        }
      }
      if (selected === q.answer) {
        correctCount++;
      }
    });
    document.getElementById('exam-result').innerHTML = `Вы набрали ${correctCount} из ${examQuestions.length} (${(correctCount / examQuestions.length * 100).toFixed(1)}%)`;
  }

  // Инициализация
  window.onload = () => {
    loadPracticeTask();
    generateExam();
  };
</script>

</body>
</html>
